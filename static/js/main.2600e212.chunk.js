(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a(81)},54:function(e){e.exports={}},60:function(e,t,a){},62:function(e,t,a){},78:function(e,t,a){e.exports=a.p+"static/media/anime3.bd6820f1.png"},81:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(26),s=a.n(r),l=a(11),i=a.n(l),c=a(23),p=a(13),u=a(14),d=a(16),m=a(15),h=a(17),b=(a(54),a(28),function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"ID: ",this.props.deposit.id),o.a.createElement("p",null,"SenderAddr: ",this.props.deposit.SenderAddr),o.a.createElement("p",null,"ContriValue: ",this.props.deposit.ContriValue),o.a.createElement("p",null,"PropName: ",this.props.deposit.PropName),o.a.createElement("p",null,"Choice: ",this.props.deposit.Choice),o.a.createElement("hr",null))}}]),t}(n.Component)),f=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.deposits.map(function(e){return o.a.createElement(b,{key:e.id,deposit:e})});return o.a.createElement("div",null,o.a.createElement("h4",null,this.props.name," Deposits"),e)}}]),t}(n.Component),v=a(43),E=a.n(v),g=a(82),y=a(83),O=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={deposits:[],uniqueAddresses:[]},a.componentDidMount=Object(c.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.graph();case 2:case"end":return e.stop()}},e,this)})),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"graph",value:function(){var e=Object(c.a)(i.a.mark(function e(){var t,a,n,o,r,s,l,c,p,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("graph(): "+this.props.proposal.name),t='{ anonymousDeposits (where: {PropName: "'+this.props.proposal.name+'"}) {\n        id\n        SenderAddr\n        ContriValue\n        PropName\n        Choice\n      }\n    }',{},e.next=5,fetch("https://api.thegraph.com/subgraphs/name/madhur4444/imgovdynamic",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:t})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 5:if((a=e.sent).data){e.next=8;break}return e.abrupt("return");case 8:for(n=a.data.anonymousDeposits,o=0,r=0,s=n.length,l=[],c={},p=0,u=0;u<s;u++)-1===l.indexOf(n[u].SenderAddr)?(l.push(n[u].SenderAddr),c[n[u].SenderAddr]=parseFloat(n[u].ContriValue)):c[n[u].SenderAddr]+=parseFloat(n[u].ContriValue),"yes"==n[u].Choice?o++:r++,p+=parseFloat(n[u].ContriValue);console.log(this.props.proposal.name),console.log("Total: "+s),console.log("Yes: "+o),console.log("No: "+r),console.log("No Unique Addresses: "+l.length),console.log(l),console.log("Total Value: "+p),console.log(c),this.setState({deposits:n,yesCount:o,noCount:r,uniqueAddresses:l}),console.log("graph() OUT");case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.uniqueAddresses.length;return o.a.createElement("div",null,o.a.createElement("h3",null,this.props.proposal.name),o.a.createElement(g.a,null,o.a.createElement(y.a,{className:"col-sm"},o.a.createElement("p",null,"ID: ",this.props.proposal.id),o.a.createElement("p",null,"Issuer: ",this.props.proposal.issuer),o.a.createElement("p",null,"Deadline: ",this.props.proposal.deadline),o.a.createElement("p",null,"Name: ",this.props.proposal.name),o.a.createElement("p",null,"Data: ",this.props.proposal.data),o.a.createElement("p",null,"optionBaddr: ",this.props.proposal.optionBaddr),o.a.createElement("p",null,"optionAaddr: ",this.props.proposal.optionAaddr),o.a.createElement("br",null),o.a.createElement("p",null,"Yes Votes: ",this.state.yesCount),o.a.createElement("p",null,"No Votes: ",this.state.noCount),o.a.createElement("p",null,"uniqueAddresses: ",e)),o.a.createElement(y.a,{className:"col-sm"},o.a.createElement(E.a,{animate:!1,animationDuration:500,animationEasing:"ease-out",cx:50,cy:50,data:[{color:"#E38627",title:"Yes",value:this.state.yesCount},{color:"#C13C37",title:"Two",value:this.state.noCount}],label:!0,labelPosition:50,labelStyle:{fill:"#121212",fontFamily:"sans-serif",fontSize:"5px"},lengthAngle:360,lineWidth:100,onClick:void 0,onMouseOut:void 0,onMouseOver:void 0,paddingAngle:0,radius:50,ratio:1,rounded:!1,startAngle:0,style:{height:"300px"}}))),o.a.createElement("hr",null))}}]),t}(n.Component),j=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.proposals.map(function(e){return o.a.createElement(O,{key:e.id,proposal:e})});return o.a.createElement("div",null,o.a.createElement("h2",null,"Proposals"),e)}}]),t}(n.Component),N=(a(60),a(62),a(4)),C=a.n(N),w=a(84),A=a(85),x=a(86),k=a(87),S=a(88),D=a(89),P=a(73),V=a(96),T=a(90),q=a(91),I=a(92),B=a(93),F=a(95),M=a(94),J=(o.a.Component,new Map,function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={storageValue:0,web3:null,accounts:null,contract:null,proposals:[],deposits:[]},a.componentDidMount=Object(c.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("DidMount..."),console.log("Loading graph..."),e.next=5,a.graph();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Failed to load web3, accounts, or contract. Check console for details."),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,7]])})),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"graph",value:function(){var e=Object(c.a)(i.a.mark(function e(){var t,a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"{\n      anonymousDeposits {\n        id\n        SenderAddr\n        ContriValue\n        PropName\n        Choice\n      }\n      newProposalIssueds(first: 5) {\n        id\n        issuer\n        deadline\n        name\n        data\n        optionBaddr\n        optionAaddr\n      }\n    }",{},e.next=4,fetch("https://api.thegraph.com/subgraphs/name/madhur4444/imgovdynamic",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"{\n      anonymousDeposits {\n        id\n        SenderAddr\n        ContriValue\n        PropName\n        Choice\n      }\n      newProposalIssueds(first: 5) {\n        id\n        issuer\n        deadline\n        name\n        data\n        optionBaddr\n        optionAaddr\n      }\n    }"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 4:t=e.sent,a=t.data.anonymousDeposits,n=t.data.newProposalIssueds,this.setState({proposals:n,deposits:a}),console.log("graph() OUT");case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.contractError,this.state.web3,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"main-panel"},o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top "},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"navbar-wrapper"},o.a.createElement("a",{className:"navbar-brand",href:"#pablo"},"Dashboard")),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"sr-only"},"Toggle navigation"),o.a.createElement("span",{className:"navbar-toggler-icon icon-bar"}),o.a.createElement("span",{className:"navbar-toggler-icon icon-bar"}),o.a.createElement("span",{className:"navbar-toggler-icon icon-bar"})),o.a.createElement("div",{className:"collapse navbar-collapse justify-content-end"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"#pablo"},o.a.createElement("i",{className:"tim-icons icon-bell-55"}),"  Notifications")))))),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement(j,{proposals:this.state.proposals}),o.a.createElement(f,{name:"All",deposits:this.state.deposits})))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(29),W=a(24);s.a.render(o.a.createElement(U.a,{basename:"/"},o.a.createElement("div",null,o.a.createElement("aside",null,o.a.createElement(U.b,{to:"/"},"Home"),o.a.createElement(U.b,{to:"/about"},"About")),o.a.createElement("main",null,o.a.createElement(W.a,{exact:!0,path:"/",component:J}),o.a.createElement(W.a,{path:"/home",component:J}),o.a.createElement(W.a,{path:"/about",component:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"About"))}}),o.a.createElement(W.a,{exact:!0,path:"/profile/:address",component:function(e){var t=e.match;return o.a.createElement("div",null,o.a.createElement("h2",null,"Profile For Address: ",t.params.address))}})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,2,1]]]);
//# sourceMappingURL=main.2600e212.chunk.js.map