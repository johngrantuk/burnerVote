(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,n){e.exports=n(77)},53:function(e){e.exports={}},54:function(e,t,n){},56:function(e,t,n){},74:function(e,t,n){e.exports=n.p+"static/media/anime3.bd6820f1.png"},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),s=n.n(o),c=n(20),l=n.n(c),i=n(26),p=n(12),u=n(13),d=n(15),m=n(14),h=n(16),b=(n(53),n(27)),v=n.n(b),f=function(){return new Promise(function(e,t){console.log("Loaded?"),window.addEventListener("load",Object(i.a)(l.a.mark(function n(){var a,r,o,s;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Loaded"),!window.ethereum){n.next=14;break}return a=new v.a(window.ethereum),n.prev=3,n.next=6,window.ethereum.enable();case 6:e(a),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),t(n.t0);case 12:n.next=15;break;case 14:window.web3?(r=window.web3,console.log("Injected web3 detected."),e(r)):(o=new v.a.providers.HttpProvider("http://127.0.0.1:8545"),s=new v.a(o),console.log("No web3 instance injected, using Local web3."),e(s));case 15:case"end":return n.stop()}},n,this,[[3,9]])})))})},E=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"ID: ",this.props.proposal.id),r.a.createElement("p",null,"Issuer: ",this.props.proposal.issuer),r.a.createElement("p",null,"Deadline: ",this.props.proposal.deadline),r.a.createElement("p",null,"Name: ",this.props.proposal.name),r.a.createElement("p",null,"Data: ",this.props.proposal.data),r.a.createElement("p",null,"optionBaddr: ",this.props.proposal.optionBaddr),r.a.createElement("p",null,"optionAaddr: ",this.props.proposal.optionAaddr),r.a.createElement("hr",null))}}]),t}(a.Component),g=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.proposals.map(function(e){return r.a.createElement(E,{key:e.id,proposal:e})});return r.a.createElement("div",null,r.a.createElement("h2",null,"Proposals"),e)}}]),t}(a.Component),w=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"ID: ",this.props.deposit.id),r.a.createElement("p",null,"ContriValue: ",this.props.deposit.ContriValue),r.a.createElement("p",null,"PropName: ",this.props.deposit.PropName),r.a.createElement("hr",null))}}]),t}(a.Component),j=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.deposits.map(function(e){return r.a.createElement(w,{key:e.id,deposit:e})});return r.a.createElement("div",null,r.a.createElement("h2",null,"Deposits"),e)}}]),t}(a.Component),O=(n(54),n(56),n(4)),y=n.n(O),x=n(78),k=n(79),A=n(80),C=n(81),P=n(82),D=n(83),I=n(69),N=n(90),B=n(84),S=n(85),L=n(86),T=n(87),V=n(89),J=n(88),M=(r.a.Component,new Map,function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={storageValue:0,web3:null,accounts:null,contract:null,proposals:[],deposits:[]},n.componentDidMount=Object(i.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("DidMount..."),console.log("Loading graph..."),e.next=5,n.graph();case 5:return e.next=7,f();case 7:return t=e.sent,e.next=10,t.eth.getAccounts();case 10:return a=e.sent,e.next=13,t.eth.net.getId();case 13:e.sent,n.setState({web3:t,accounts:a}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),alert("Failed to load web3, accounts, or contract. Check console for details."),console.error(e.t0);case 21:case"end":return e.stop()}},e,this,[[0,17]])})),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"graph",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t,n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("graph()"),"{\n      anonymousDeposits(first: 5) {\n        id\n        SenderAddr\n        ContriValue\n        PropName\n      }\n      newProposalIssueds(first: 5) {\n        id\n        issuer\n        deadline\n        name\n        data\n        optionBaddr\n        optionAaddr\n      }\n    }",{},e.next=5,fetch("https://api.thegraph.com/subgraphs/name/madhur4444/imgovdynamic",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"{\n      anonymousDeposits(first: 5) {\n        id\n        SenderAddr\n        ContriValue\n        PropName\n      }\n      newProposalIssueds(first: 5) {\n        id\n        issuer\n        deadline\n        name\n        data\n        optionBaddr\n        optionAaddr\n      }\n    }"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 5:t=e.sent,console.log("Result:"),console.log(t),n=t.data.anonymousDeposits,a=t.data.newProposalIssueds,this.setState({proposals:a,deposits:n}),console.log("graph() OUT");case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.contractError,this.state.web3,r.a.createElement("div",{className:"App"},r.a.createElement("div",{class:"main-panel"},r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top "},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"navbar-wrapper"},r.a.createElement("a",{class:"navbar-brand",href:"#pablo"},"Dashboard")),r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"sr-only"},"Toggle navigation"),r.a.createElement("span",{class:"navbar-toggler-icon icon-bar"}),r.a.createElement("span",{class:"navbar-toggler-icon icon-bar"}),r.a.createElement("span",{class:"navbar-toggler-icon icon-bar"})),r.a.createElement("div",{class:"collapse navbar-collapse justify-content-end"},r.a.createElement("ul",{class:"navbar-nav"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link",href:"#pablo"},r.a.createElement("i",{class:"tim-icons icon-bell-55"}),"  Notifications")))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement(g,{proposals:this.state.proposals}),r.a.createElement(j,{deposits:this.state.deposits})))))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(28),H=n(31);s.a.render(r.a.createElement(F.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement("aside",null,r.a.createElement(F.b,{to:"/"},"Home"),r.a.createElement(F.b,{to:"/about"},"About")),r.a.createElement("main",null,r.a.createElement(H.a,{exact:!0,path:"/",component:M}),r.a.createElement(H.a,{path:"/home",component:M}),r.a.createElement(H.a,{path:"/about",component:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"About"))}}),r.a.createElement(H.a,{exact:!0,path:"/profile/:address",component:function(e){var t=e.match;return r.a.createElement("div",null,r.a.createElement("h2",null,"Profile For Address: ",t.params.address))}})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,2,1]]]);
//# sourceMappingURL=main.6a010314.chunk.js.map