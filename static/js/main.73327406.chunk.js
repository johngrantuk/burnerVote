(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,n){e.exports=n(77)},53:function(e){e.exports={}},54:function(e,t,n){},56:function(e,t,n){},74:function(e,t,n){e.exports=n.p+"static/media/anime3.bd6820f1.png"},77:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(25),s=n.n(r),c=n(11),l=n.n(c),i=n(23),p=n(13),u=n(14),d=n(16),m=n(15),h=n(17),b=(n(53),n(28)),f=n.n(b),v=function(){return new Promise(function(e,t){console.log("Loaded?"),window.addEventListener("load",Object(i.a)(l.a.mark(function n(){var a,o,r,s;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Loaded"),!window.ethereum){n.next=14;break}return a=new f.a(window.ethereum),n.prev=3,n.next=6,window.ethereum.enable();case 6:e(a),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),t(n.t0);case 12:n.next=15;break;case 14:window.web3?(o=window.web3,console.log("Injected web3 detected."),e(o)):(r=new f.a.providers.HttpProvider("http://127.0.0.1:8545"),s=new f.a(r),console.log("No web3 instance injected, using Local web3."),e(s));case 15:case"end":return n.stop()}},n,this,[[3,9]])})))})},g=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"ID: ",this.props.deposit.id),o.a.createElement("p",null,"ContriValue: ",this.props.deposit.ContriValue),o.a.createElement("p",null,"PropName: ",this.props.deposit.PropName),o.a.createElement("hr",null))}}]),t}(a.Component),E=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.deposits.map(function(e){return o.a.createElement(g,{key:e.id,deposit:e})});return o.a.createElement("div",null,o.a.createElement("h4",null,this.props.name," Deposits"),e)}}]),t}(a.Component),w=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={deposits:[]},n.componentDidMount=Object(i.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading Deposit graph..."),e.next=3,n.graph();case 3:case"end":return e.stop()}},e,this)})),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"graph",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t,n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("graph(): "+this.props.proposal.name),t='{ anonymousDeposits (where: {PropName: "'+this.props.proposal.name+'"}) {\n        id\n        SenderAddr\n        ContriValue\n        PropName\n      }\n    }',console.log("QUERY:"),console.log(t),{},e.next=7,fetch("https://api.thegraph.com/subgraphs/name/madhur4444/imgovdynamic",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:t})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 7:if(n=e.sent,console.log("Result:"),console.log(n),n.data){e.next=12;break}return e.abrupt("return");case 12:a=n.data.anonymousDeposits,this.setState({deposits:a}),console.log("graph() OUT");case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null,this.props.proposal.name),o.a.createElement("p",null,"ID: ",this.props.proposal.id),o.a.createElement("p",null,"Issuer: ",this.props.proposal.issuer),o.a.createElement("p",null,"Deadline: ",this.props.proposal.deadline),o.a.createElement("p",null,"Name: ",this.props.proposal.name),o.a.createElement("p",null,"Data: ",this.props.proposal.data),o.a.createElement("p",null,"optionBaddr: ",this.props.proposal.optionBaddr),o.a.createElement("p",null,"optionAaddr: ",this.props.proposal.optionAaddr),o.a.createElement(E,{name:this.props.proposal.name,deposits:this.state.deposits}),o.a.createElement("hr",null))}}]),t}(a.Component),j=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.proposals.map(function(e){return o.a.createElement(w,{key:e.id,proposal:e})});return o.a.createElement("div",null,o.a.createElement("h2",null,"Proposals"),e)}}]),t}(a.Component),y=(n(54),n(56),n(4)),O=n.n(y),x=n(78),k=n(79),A=n(80),D=n(81),P=n(82),C=n(83),N=n(69),S=n(90),I=n(84),T=n(85),B=n(86),L=n(87),V=n(89),J=n(88),M=(o.a.Component,new Map,function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={storageValue:0,web3:null,accounts:null,contract:null,proposals:[],deposits:[]},n.componentDidMount=Object(i.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("DidMount..."),console.log("Loading graph..."),e.next=5,n.graph();case 5:return e.next=7,v();case 7:return t=e.sent,e.next=10,t.eth.getAccounts();case 10:return a=e.sent,e.next=13,t.eth.net.getId();case 13:e.sent,n.setState({web3:t,accounts:a}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),alert("Failed to load web3, accounts, or contract. Check console for details."),console.error(e.t0);case 21:case"end":return e.stop()}},e,this,[[0,17]])})),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"graph",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t,n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("graph()"),"{\n      anonymousDeposits {\n        id\n        SenderAddr\n        ContriValue\n        PropName\n      }\n      newProposalIssueds(first: 5) {\n        id\n        issuer\n        deadline\n        name\n        data\n        optionBaddr\n        optionAaddr\n      }\n    }",{},e.next=5,fetch("https://api.thegraph.com/subgraphs/name/madhur4444/imgovdynamic",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"{\n      anonymousDeposits {\n        id\n        SenderAddr\n        ContriValue\n        PropName\n      }\n      newProposalIssueds(first: 5) {\n        id\n        issuer\n        deadline\n        name\n        data\n        optionBaddr\n        optionAaddr\n      }\n    }"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 5:t=e.sent,console.log("Result:"),console.log(t),n=t.data.anonymousDeposits,a=t.data.newProposalIssueds,this.setState({proposals:a,deposits:n}),console.log("graph() OUT");case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.contractError,this.state.web3,o.a.createElement("div",{className:"App"},o.a.createElement("div",{class:"main-panel"},o.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top "},o.a.createElement("div",{class:"container-fluid"},o.a.createElement("div",{class:"navbar-wrapper"},o.a.createElement("a",{class:"navbar-brand",href:"#pablo"},"Dashboard")),o.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{class:"sr-only"},"Toggle navigation"),o.a.createElement("span",{class:"navbar-toggler-icon icon-bar"}),o.a.createElement("span",{class:"navbar-toggler-icon icon-bar"}),o.a.createElement("span",{class:"navbar-toggler-icon icon-bar"})),o.a.createElement("div",{class:"collapse navbar-collapse justify-content-end"},o.a.createElement("ul",{class:"navbar-nav"},o.a.createElement("li",{class:"nav-item"},o.a.createElement("a",{class:"nav-link",href:"#pablo"},o.a.createElement("i",{class:"tim-icons icon-bell-55"}),"  Notifications")))))),o.a.createElement("div",{class:"content"},o.a.createElement("div",{class:"container-fluid"},o.a.createElement(j,{proposals:this.state.proposals}),o.a.createElement(E,{name:"All",deposits:this.state.deposits})))))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(29),U=n(27);s.a.render(o.a.createElement(R.a,{basename:"/"},o.a.createElement("div",null,o.a.createElement("aside",null,o.a.createElement(R.b,{to:"/"},"Home"),o.a.createElement(R.b,{to:"/about"},"About")),o.a.createElement("main",null,o.a.createElement(U.a,{exact:!0,path:"/",component:M}),o.a.createElement(U.a,{path:"/home",component:M}),o.a.createElement(U.a,{path:"/about",component:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"About"))}}),o.a.createElement(U.a,{exact:!0,path:"/profile/:address",component:function(e){var t=e.match;return o.a.createElement("div",null,o.a.createElement("h2",null,"Profile For Address: ",t.params.address))}})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,2,1]]]);
//# sourceMappingURL=main.73327406.chunk.js.map